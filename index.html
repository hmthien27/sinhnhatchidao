<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ch√∫c M·ª´ng Sinh Nh·∫≠t</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Arial', sans-serif;
            background-color: #ff9bc4; /* ƒê·ªïi th√†nh m√†u h·ªìng */
            color: #fff;
            overflow-x: hidden;
            text-align: center;
        }
        
        .container {
            position: relative;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 2;
            padding: 20px;
        }
        
        h1 {
            font-size: 3.5em;
            margin-bottom: 20px;
            animation: pulse 2s infinite;
            text-shadow: 0 0 10px #ff00ff, 0 0 20px #ff00ff, 0 0 30px #ff00ff;
        }
        
        .message {
            font-size: 1.5em;
            margin-bottom: 30px;
            max-width: 80%;
            line-height: 1.6;
        }
        
        .cake {
            font-size: 100px;
            margin: 30px 0;
            animation: bounce 1s infinite alternate;
        }
        
        .balloon {
            position: absolute;
            font-size: 40px;
            animation: float 10s infinite;
            opacity: 0.8;
        }
        
        .button {
            background: linear-gradient(45deg, #ff3399, #ff9933);
            border: none;
            color: white;
            padding: 15px 32px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin: 20px 0;
            cursor: pointer;
            border-radius: 50px;
            box-shadow: 0 0 10px rgba(255, 51, 153, 0.5);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .button:hover {
            transform: scale(1.1);
            box-shadow: 0 0 20px rgba(255, 51, 153, 0.8);
        }
        
        .confetti {
            position: absolute;
            width: 15px;
            height: 15px;
            background-color: #f00;
            opacity: 0.7;
            z-index: 1;
        }
        
        .gift-box {
            position: relative;
            width: 120px;
            height: 120px;
            margin: 20px auto;
            perspective: 1000px;
            cursor: pointer;
        }
        
        .gift {
            position: relative;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            transition: transform 1s;
        }
        
        .gift-box:hover .gift {
            transform: rotateY(180deg);
        }
        
        .gift-front, .gift-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 10px;
        }
        
        .gift-front {
            background: linear-gradient(45deg, #ff3399, #ff9933);
            font-size: 50px;
        }
        
        .gift-back {
            background: linear-gradient(45deg, #ff9933, #ff3399);
            transform: rotateY(180deg);
            font-size: 16px; /* Reduced font size */
            padding: 10px;
            box-sizing: border-box;
            word-wrap: break-word; /* Ensure text wraps properly */
            overflow: hidden; /* Prevent text overflow */
        }
        
        /* Th√™m ph·∫ßn gallery h√¨nh ·∫£nh */
        .photo-gallery {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin: 30px 0;
            max-width: 80%;
        }
        
        .photo-frame {
            width: 200px;
            height: 200px;
            border: 5px solid white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 0 15px rgba(255, 105, 180, 0.7);
            transition: transform 0.3s;
            position: relative;
        }
        
        .photo-frame:hover {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(255, 20, 147, 0.9);
        }
        
        .photo {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }
        
        .photo-frame:hover .photo {
            transform: scale(1.1);
        }
        
        .photo-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: rgba(255, 20, 147, 0.7);
            color: white;
            padding: 5px;
            font-size: 14px;
            transform: translateY(100%);
            transition: transform 0.3s;
        }
        
        .photo-frame:hover .photo-caption {
            transform: translateY(0);
        }
        
        /* Th√™m n·ªÅn trang tr√≠ */
        .decoration {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }
        
        .hearts {
            position: absolute;
            font-size: 20px;
            color: rgba(255, 255, 255, 0.6);
            animation: float-slow 15s linear infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        @keyframes bounce {
            0% { transform: translateY(0); }
            100% { transform: translateY(-20px); }
        }
        
        @keyframes float {
            0% { transform: translateY(0) translateX(0) rotate(0deg); }
            25% { transform: translateY(-20px) translateX(10px) rotate(5deg); }
            50% { transform: translateY(0) translateX(20px) rotate(0deg); }
            75% { transform: translateY(-10px) translateX(10px) rotate(-5deg); }
            100% { transform: translateY(0) translateX(0) rotate(0deg); }
        }
        
        @keyframes float-slow {
            0% { transform: translateY(100vh) translateX(0); opacity: 1; }
            100% { transform: translateY(-100px) translateX(20px); opacity: 0; }
        }
        
        .firework {
            position: absolute;
            width: 5px;
            height: 5px;
            border-radius: 50%;
            box-shadow: 0 0 10px 2px;
            opacity: 0;
            pointer-events: none;
        }
        
        @keyframes firework {
            0% { transform: translate(0, 0); opacity: 1; }
            100% { transform: translate(var(--x), var(--y)); opacity: 0; }
        }
        
        /* Th√™m hi·ªáu ·ª©ng modal xem ·∫£nh l·ªõn */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 10;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            max-width: 80%;
            max-height: 80%;
        }
        
        .modal-close {
            position: absolute;
            top: 20px;
            right: 30px;
            font-size: 30px;
            color: white;
            cursor: pointer;
        }
        
        /* Hide file input and upload button */
        #imageUpload, #uploadButton {
            display: none;
        }
        
        /* CSS cho audio control */
        .audio-control {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="decoration" id="decorationContainer"></div>
    
    <div class="container">
        <h1 id="birthdayHeader">Ch√∫c M·ª´ng Sinh Nh·∫≠t Ch·ªã ƒê√†o!</h1>
        <p class="message">Ch√∫c ch·ªã c√≥ m·ªôt ng√†y sinh nh·∫≠t th·∫≠t vui v·∫ª, h·∫°nh ph√∫c v√† tr√†n ƒë·∫ßy ni·ªÅm vui. Mong r·∫±ng tu·ªïi m·ªõi s·∫Ω mang ƒë·∫øn cho ch·ªã nhi·ªÅu ƒëi·ªÅu tuy·ªát v·ªùi v√† lu√¥n th√†nh c√¥ng trong c√¥ng vi·ªác!</p>
        <div class="cake">üéÇ</div>
        
        <!-- Th√™m gallery h√¨nh ·∫£nh -->
        <h2>Kho·∫£nh Kh·∫Øc ƒê√°ng Nh·ªõ</h2>
        <div class="photo-gallery" id="photoGallery">
            <!-- Khung h√¨nh ·∫£nh s·∫Ω ƒë∆∞·ª£c th√™m v√†o b·∫±ng JavaScript -->
        </div>
        
        <div class="gift-box">
            <div class="gift">
                <div class="gift-front">üéÅ</div>
                <div class="gift-back">Mong ch·ªã lu√¥n m·∫°nh kh·ªèe v√† h·∫°nh ph√∫c trong tu·ªïi m·ªõi!</div>
            </div>
        </div>
        <button class="button" id="celebrateButton">B·∫Øt ƒë·∫ßu l·ªÖ m·ª´ng</button>
        <div id="balloonContainer"></div>
        
        <!-- Th√™m audio cho b√†i h√°t Happy Birthday (·∫©n m·∫∑c ƒë·ªãnh) -->
        <audio id="birthdaySong" preload="auto">
            <source src="https://cdn.jsdelivr.net/gh/soundbible/happy-birthday-song/HappyBirthdayInstrumental.mp3" type="audio/mpeg">
            <!-- Backup nh·∫°c n·∫øu link tr√™n kh√¥ng ho·∫°t ƒë·ªông -->
            <source src="https://www2.cs.uic.edu/~i101/SoundFiles/HappyBirthday.mp3" type="audio/mpeg">
            <!-- C√≥ th·ªÉ th√™m nhi·ªÅu ngu·ªìn nh·∫°c kh√°c nhau -->
        </audio>
        
        <!-- Th√™m n√∫t ƒë·ªÉ t·∫£i ·∫£nh l√™n - ƒë√£ ·∫©n -->
        <div style="margin-top: 30px;">
            <input type="file" id="imageUpload" accept="image/*" multiple>
            <!-- ƒê√£ ·∫©n n√∫t "Th√™m ·∫¢nh" -->
        </div>
    </div>
    
    <!-- Modal xem ·∫£nh l·ªõn -->
    <div class="modal" id="imageModal">
        <span class="modal-close" id="modalClose">&times;</span>
        <img class="modal-content" id="modalImage">
    </div>
<footer>
    <p style="margin-top: 20px;">Developed by Hu·ª≥nh Minh Thi·ªán.</p>
</footer>

    <script>
        // T·∫°o hi·ªáu ·ª©ng chuy·ªÉn ƒë·ªông cho ti√™u ƒë·ªÅ
        const colors = ['#ff0066', '#ff3399', '#ff66cc', '#ff99ff', '#ff0099', '#cc0066', '#ff0033'];
        let colorIndex = 0;
        
        setInterval(() => {
            document.getElementById('birthdayHeader').style.color = colors[colorIndex];
            colorIndex = (colorIndex + 1) % colors.length;
        }, 500);
        
        // T·∫°o hi·ªáu ·ª©ng confetti
        function createConfetti() {
            const confetti = document.createElement('div');
            confetti.className = 'confetti';
            confetti.style.left = Math.random() * 100 + 'vw';
            confetti.style.top = -20 + 'px';
            confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
            confetti.style.transform = 'rotate(' + (Math.random() * 360) + 'deg)';
            
            document.body.appendChild(confetti);
            
            const confettiAnimation = confetti.animate(
                [
                    { transform: 'translateY(0) rotate(0deg)', opacity: 0.7 },
                    { transform: 'translateY(' + window.innerHeight + 'px) rotate(360deg)', opacity: 0 }
                ],
                {
                    duration: Math.random() * 3000 + 2000,
                    easing: 'cubic-bezier(0.37, 0, 0.63, 1)'
                }
            );
            
            confettiAnimation.onfinish = () => {
                confetti.remove();
            };
        }
        
        // T·∫°o hi·ªáu ·ª©ng b√≥ng bay
        function createBalloon() {
            const balloons = ['üéà', 'üéä', 'üéâ', '‚ú®', 'üíñ', 'üéÅ'];
            const balloon = document.createElement('div');
            balloon.className = 'balloon';
            balloon.textContent = balloons[Math.floor(Math.random() * balloons.length)];
            balloon.style.left = Math.random() * 90 + 5 + '%';
            balloon.style.top = Math.random() * 50 + 25 + '%';
            balloon.style.animationDuration = (Math.random() * 5 + 5) + 's';
            balloon.style.animationDelay = (Math.random() * 2) + 's';
            
            document.getElementById('balloonContainer').appendChild(balloon);
        }
        
        // T·∫°o hi·ªáu ·ª©ng text typing
        function typeMessage(element, text, speed) {
            let i = 0;
            element.textContent = '';
            
            function typing() {
                if (i < text.length) {
                    element.textContent += text.charAt(i);
                    i++;
                    setTimeout(typing, speed);
                }
            }
            
            typing();
        }
        
        // Ho√†n thi·ªán animation ph√°o hoa
        function createFirework(x, y) {
            const particles = 20;
            
            for (let i = 0; i < particles; i++) {
                const angle = Math.random() * Math.PI * 2;
                const distance = Math.random() * 100 + 50;
                const xPos = distance * Math.cos(angle);
                const yPos = distance * Math.sin(angle);
                
                const firework = document.createElement('div');
                firework.className = 'firework';
                firework.style.left = x + 'px';
                firework.style.top = y + 'px';
                firework.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                firework.style.boxShadow = `0 0 10px 2px ${colors[Math.floor(Math.random() * colors.length)]}`;
                firework.style.setProperty('--x', xPos + 'px');
                firework.style.setProperty('--y', yPos + 'px');
                
                document.body.appendChild(firework);
                
                const animation = firework.animate(
                    [
                        { transform: 'translate(0, 0)', opacity: 1 },
                        { transform: `translate(${xPos}px, ${yPos}px)`, opacity: 0 }
                    ],
                    {
                        duration: Math.random() * 1000 + 1000,
                        easing: 'cubic-bezier(0.37, 0, 0.63, 1)'
                    }
                );
                
                animation.onfinish = () => {
                    firework.remove();
                };
            }
        }

        // Th√™m hi·ªáu ·ª©ng tr√°i tim r∆°i
        function createHearts() {
            const decorationContainer = document.getElementById('decorationContainer');
            for (let i = 0; i < 20; i++) {
                const heart = document.createElement('div');
                heart.className = 'hearts';
                heart.textContent = '‚ù§Ô∏è';
                heart.style.left = Math.random() * 100 + '%';
                heart.style.top = Math.random() * 100 + '%';
                heart.style.opacity = Math.random() * 0.5 + 0.3;
                heart.style.fontSize = (Math.random() * 20 + 10) + 'px';
                heart.style.animationDuration = (Math.random() * 10 + 10) + 's';
                
                decorationContainer.appendChild(heart);
            }
        }

        // T·∫°o m·ªôt s·ªë ·∫£nh m·∫´u cho gallery
        function createSamplePhotos() {
            const gallery = document.getElementById('photoGallery');
            const photos = [
                { src: 'images/sinhnhat1.jpg', caption: 'Ch·ªã ƒê√†o xinh ƒë·∫πp' },
                { src: 'images/sinhnhat2.jpg', caption: 'Ch·ªã ƒê√†o cute' },
                { src: 'images/sinhnhat3.jpg', caption: 'Ch·ªã ƒê√†o d·ªÖ th∆∞∆°ng' },
                { src: 'images/sinhnhat4.jpg', caption: 'Ch·ªã ƒê√†o so cute' },
                { src: 'images/sinhnhat5.jpg', caption: 'Ch·ªã ƒê√†o xinh ƒë·∫πp' }
            ];
            
            photos.forEach(photo => {
                createPhotoFrame(photo.src, photo.caption);
            });
        }

        // T·∫°o khung ·∫£nh v√† th√™m v√†o gallery
        function createPhotoFrame(src, caption) {
            const gallery = document.getElementById('photoGallery');
            
            const frame = document.createElement('div');
            frame.className = 'photo-frame';
            
            const img = document.createElement('img');
            img.className = 'photo';
            img.src = src;
            img.alt = caption || 'Kho·∫£nh kh·∫Øc ƒë·∫πp';
            
            const captionDiv = document.createElement('div');
            captionDiv.className = 'photo-caption';
            captionDiv.textContent = caption || 'Kho·∫£nh kh·∫Øc ƒë·∫πp';
            
            frame.appendChild(img);
            frame.appendChild(captionDiv);
            gallery.appendChild(frame);
            
            // Th√™m s·ª± ki·ªán click ƒë·ªÉ m·ªü modal xem ·∫£nh l·ªõn
            frame.addEventListener('click', () => {
                const modal = document.getElementById('imageModal');
                const modalImg = document.getElementById('modalImage');
                
                modal.style.display = 'flex';
                modalImg.src = src;
            });
        }

        // X·ª≠ l√Ω modal hi·ªÉn th·ªã ·∫£nh l·ªõn
        document.getElementById('modalClose').addEventListener('click', () => {
            document.getElementById('imageModal').style.display = 'none';
        });

        // X·ª≠ l√Ω t·∫£i ·∫£nh l√™n t·ª´ m√°y ng∆∞·ªùi d√πng
        document.getElementById('imageUpload').addEventListener('change', (e) => {
            const files = e.target.files;
            
            if (files && files.length > 0) {
                for (let i = 0; i < files.length; i++) {
                    const file = files[i];
                    
                    // Ki·ªÉm tra file c√≥ ph·∫£i ·∫£nh kh√¥ng
                    if (file.type.startsWith('image/')) {
                        const reader = new FileReader();
                        
                        reader.onload = (event) => {
                            // T·∫°o khung ·∫£nh m·ªõi v·ªõi ·∫£nh v·ª´a ch·ªçn
                            createPhotoFrame(event.target.result, '·∫¢nh c·ªßa b·∫°n');
                        };
                        
                        reader.readAsDataURL(file);
                    }
                }
            }
        });

        // Th√™m hi·ªáu ·ª©ng ph√°o hoa khi click v√†o m√†n h√¨nh
        document.addEventListener('click', function(event) {
            createFirework(event.clientX, event.clientY);
        });

        // L·∫•y tham chi·∫øu ƒë·∫øn ph·∫ßn t·ª≠ audio
        const birthdaySong = document.getElementById('birthdaySong');

        // Khi n√∫t ƒë∆∞·ª£c nh·∫•n
        document.getElementById('celebrateButton').addEventListener('click', function() {
            // Ph√°t nh·∫°c sinh nh·∫≠t
            birthdaySong.volume = 0.7; // ƒêi·ªÅu ch·ªânh √¢m l∆∞·ª£ng
            birthdaySong.play().catch(e => {
                console.log('Kh√¥ng th·ªÉ ph√°t √¢m thanh t·ª± ƒë·ªông:', e);
                // Th√¥ng b√°o cho ng∆∞·ªùi d√πng nh·∫•n th√™m m·ªôt l·∫ßn n·ªØa ƒë·ªÉ ph√°t nh·∫°c
                alert('Vui l√≤ng nh·∫•n l·∫ßn n·ªØa ƒë·ªÉ ph√°t nh·∫°c sinh nh·∫≠t!');
            });
            
            // T·∫°o confetti
            const confettiInterval = setInterval(createConfetti, 100);
            
            // Gi·ªõi h·∫°n th·ªùi gian t·∫°o confetti ƒë·ªÉ kh√¥ng l√†m ch·∫≠m trang
            setTimeout(() => {
                clearInterval(confettiInterval);
            }, 5000);
            
            // T·∫°o b√≥ng bay
            for (let i = 0; i < 20; i++) {
                createBalloon();
            }
            
            // Hi·ªáu ·ª©ng typing
            const message = document.querySelector('.message');
            const originalText = message.textContent;
            typeMessage(message, originalText, 50);
            
            // T·∫°o ph√°o hoa ng·∫´u nhi√™n
            setInterval(() => {
                const x = Math.random() * window.innerWidth;
                const y = Math.random() * window.innerHeight / 2;
                createFirework(x, y);
            }, 1000);
            
            // Th√™m hi·ªáu ·ª©ng tr√°i tim
            createHearts();
            
            // Thay ƒë·ªïi n√∫t ƒë·ªÉ kh√¥ng nh·∫•n l·∫°i
            this.textContent = 'ƒêang ƒÉn m·ª´ng! üéâ';
            this.disabled = true;
        });

        // T·∫°o c√°c m·∫´u ·∫£nh v√† hi·ªáu ·ª©ng khi trang ƒë∆∞·ª£c t·∫£i
        document.addEventListener('DOMContentLoaded', function() {
            // T·∫°o m·ªôt s·ªë b√≥ng bay m·∫∑c ƒë·ªãnh
            for (let i = 0; i < 5; i++) {
                createBalloon();
            }
            
            // T·∫°o gallery ·∫£nh m·∫´u
            createSamplePhotos();
            
            // Chu·∫©n b·ªã nh·∫°c sinh nh·∫≠t
            birthdaySong.load();
        });

        // T·∫°o m·ªôt s·ªë ph√°o hoa ng·∫´u nhi√™n ƒë·ªÉ trang tr√≠
        setInterval(() => {
            if (Math.random() > 0.7) {
                const x = Math.random() * window.innerWidth;
                const y = Math.random() * window.innerHeight / 3;
                createFirework(x, y);
            }
        }, 2000);
    
        // √¢m thanh
        document.getElementById('celebrateButton').addEventListener('click', function() {
            document.getElementById('birthdaySong').play();
        });

    </script>
</body>
</html>